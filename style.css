/* ══════════════════════════════════════════════
   Speed Runner Pro - style.css
   ══════════════════════════════════════════════ */

/* ─── Variables ─────────────────────────────── */
:root {
  --bg:       #1a1a2e;
  --surface:  #16213e;
  --card:     #0f3460;
  --accent:   #e94560;
  --accent2:  #f39c12;
  --text:     #eaeaea;
  --text2:    #a0aec0;
  --success:  #2ecc71;
  --danger:   #e74c3c;
  --radius:   12px;
  --shadow:   0 8px 32px rgba(0,0,0,.45);
  --trans:    .25s ease;
}
.light-mode {
  --bg:      #f0f4ff;
  --surface: #ffffff;
  --card:    #dde8ff;
  --accent:  #e94560;
  --text:    #1a1a2e;
  --text2:   #555;
  --shadow:  0 8px 32px rgba(0,0,60,.12);
}

/* ─── Reset ──────────────────────────────────── */
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html,body { width:100%; height:100%; overflow:hidden; font-family:'Segoe UI',Tahoma,Arial,sans-serif; background:var(--bg); color:var(--text); transition:background var(--trans),color var(--trans); }
button { cursor:pointer; border:none; outline:none; font-family:inherit; transition:transform .1s,opacity .2s; }
button:active { transform:scale(.96); }
img { image-rendering:pixelated; }

/* ─── Utility ────────────────────────────────── */
.hidden { display:none !important; }
.overlay { position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:100; display:flex; align-items:center; justify-content:center; }

/* ─── Loading Screen ─────────────────────────── */
#loadingScreen {
  position:fixed; inset:0; background:var(--bg);
  display:flex; align-items:center; justify-content:center; z-index:999;
}
.loading-content { text-align:center; }
.loading-bar-wrap {
  width:320px; height:14px; background:rgba(255,255,255,.1);
  border-radius:7px; overflow:hidden; margin:24px auto 12px;
}
.loading-bar {
  height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent2));
  border-radius:7px; transition:width .3s ease;
}
#loadingText { color:var(--text2); font-size:.9rem; }

/* ─── Screens ────────────────────────────────── */
.screen {
  position:fixed; inset:0; background:var(--bg);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  padding:20px; gap:16px; z-index:50; overflow-y:auto;
}

/* ─── Game Logo ──────────────────────────────── */
.game-logo {
  font-size:clamp(1.6rem,5vw,3rem);
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  background-clip:text; text-align:center;
  text-shadow:none; filter:drop-shadow(0 0 12px rgba(233,69,96,.5));
}
.pulse { animation:pulse 2s ease-in-out infinite; }
@keyframes pulse {
  0%,100%{filter:drop-shadow(0 0 12px rgba(233,69,96,.5))}
  50%{filter:drop-shadow(0 0 28px rgba(233,69,96,.9))}
}

/* ─── Buttons ────────────────────────────────── */
.btn-primary {
  background:linear-gradient(135deg,var(--accent),#c0392b);
  color:#fff; border-radius:var(--radius); padding:12px 32px;
  font-size:1rem; font-weight:700; box-shadow:var(--shadow);
}
.btn-primary:hover { opacity:.88; }
.btn-primary.big { padding:16px 48px; font-size:1.2rem; }
.btn-secondary {
  background:var(--card); color:var(--text);
  border-radius:var(--radius); padding:10px 28px; font-size:.95rem;
  border:1px solid rgba(255,255,255,.08);
}
.btn-secondary:hover { background:var(--accent); color:#fff; }
.btn-icon {
  background:var(--card); color:var(--text); border-radius:50%;
  width:44px; height:44px; font-size:1.2rem;
  border:1px solid rgba(255,255,255,.1);
}
.btn-icon:hover { background:var(--accent); }
.btn-back {
  position:absolute; top:16px; right:16px;
  background:var(--card); color:var(--text); border-radius:var(--radius);
  padding:8px 18px; font-size:.9rem;
}
.btn-danger {
  background:var(--danger); color:#fff; border-radius:var(--radius);
  padding:8px 20px; font-size:.85rem; margin-top:12px;
}
.menu-buttons { display:flex; flex-direction:column; gap:12px; width:min(320px,90vw); }
.menu-bottom { display:flex; gap:12px; margin-top:8px; }
.menu-stats { display:flex; gap:24px; font-size:1.1rem; margin-bottom:4px; }

/* ─── Character Select ───────────────────────── */
.char-grid { display:flex; gap:20px; flex-wrap:wrap; justify-content:center; margin:8px 0; }
.char-card {
  background:var(--card); border-radius:16px; padding:20px; text-align:center;
  cursor:pointer; transition:transform var(--trans),box-shadow var(--trans);
  border:2px solid transparent; min-width:130px;
}
.char-card:hover { transform:translateY(-4px); box-shadow:0 12px 28px rgba(233,69,96,.3); }
.char-card.selected { border-color:var(--accent); }
.char-card.locked { opacity:.6; cursor:not-allowed; position:relative; }
.char-card img { width:64px; height:64px; display:block; margin:0 auto 8px; }
.char-card span { font-weight:700; display:block; }
.char-desc { font-size:.78rem; color:var(--text2); margin-top:4px; }
.lock-icon { position:absolute; top:8px; left:8px; font-size:1.2rem; }

/* ─── HUD ────────────────────────────────────── */
#gameContainer { position:fixed; inset:0; display:flex; flex-direction:column; }
#hud {
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 16px; background:rgba(0,0,0,.5); backdrop-filter:blur(4px);
  z-index:10; height:50px; flex-shrink:0;
}
#hudLeft,#hudRight { display:flex; align-items:center; gap:12px; }
#hudCenter { flex:1; text-align:center; }
#scoreDisplay { font-size:1.4rem; font-weight:900; color:var(--accent2); }
#coinDisplay { font-size:1rem; color:var(--accent2); }
.fps-counter { font-size:.7rem; color:var(--text2); }
#powerupIndicator {
  background:linear-gradient(135deg,#9b59b6,#3498db);
  color:#fff; padding:4px 14px; border-radius:20px; font-size:.85rem;
  animation:glowPop .5s ease;
}
@keyframes glowPop { 0%{transform:scale(.6)}100%{transform:scale(1)} }
#pauseBtn {
  background:rgba(255,255,255,.1); color:var(--text); border-radius:8px;
  width:36px; height:36px; font-size:1rem;
}

/* ─── Canvas ─────────────────────────────────── */
#gameCanvas { flex:1; display:block; width:100%; }

/* ─── Touch Hint ─────────────────────────────── */
#touchHint {
  position:absolute; bottom:20px; left:50%; transform:translateX(-50%);
  background:rgba(0,0,0,.45); color:rgba(255,255,255,.75);
  padding:8px 22px; border-radius:20px; font-size:.85rem;
  pointer-events:none; transition:opacity .5s;
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.1);
}
#touchHint.fade-out { opacity:0; }

/* Canvas تأخذ كل المساحة بعد حذف شريط الأزرار */
#gameCanvas { flex:1; display:block; width:100%; cursor:pointer; }

/* Tap ripple effect على الشاشة */
.tap-ripple {
  position:absolute; border-radius:50%;
  background:rgba(255,255,255,.18);
  transform:scale(0); animation:rippleAnim .4s ease-out forwards;
  pointer-events:none; z-index:5;
}
@keyframes rippleAnim {
  to { transform:scale(4); opacity:0; }
}

/* ─── Modal ──────────────────────────────────── */
.modal {
  background:var(--surface); border-radius:20px; padding:32px;
  text-align:center; max-width:380px; width:90%; box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,.08); display:flex; flex-direction:column;
  gap:16px;
}
.modal h2 { font-size:1.6rem; }
.results-grid {
  display:grid; grid-template-columns:1fr 1fr; gap:12px; text-align:center;
}
.result-item {
  background:var(--card); border-radius:10px; padding:12px;
  display:flex; flex-direction:column; gap:4px;
}
.result-item span { font-size:.78rem; color:var(--text2); }
.result-item strong { font-size:1.4rem; color:var(--accent2); }
.gameover-buttons { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
#newRecordBanner {
  background:linear-gradient(135deg,var(--accent2),#e67e22);
  color:#fff; border-radius:10px; padding:10px; font-weight:700;
  animation:pulse 1s ease-in-out 3;
}

/* ─── Shop ───────────────────────────────────── */
.coins-balance { font-size:1.1rem; margin-bottom:8px; }
.shop-grid { display:flex; flex-wrap:wrap; gap:16px; justify-content:center; max-width:700px; }
.shop-item {
  background:var(--card); border-radius:14px; padding:18px;
  text-align:center; min-width:150px; flex:1; max-width:180px;
  border:2px solid transparent;
}
.shop-item.owned { border-color:var(--success); }
.shop-item.active { border-color:var(--accent2); }
.shop-item-icon { font-size:2.2rem; margin-bottom:8px; }
.shop-item h4 { font-size:.95rem; margin-bottom:4px; }
.shop-item p { font-size:.78rem; color:var(--text2); margin-bottom:10px; }
.shop-item button {
  background:var(--accent); color:#fff; border-radius:8px;
  padding:6px 16px; font-size:.85rem; width:100%;
}
.shop-item.owned button { background:var(--success); }
.shop-item.active button { background:var(--accent2); }

/* ─── Achievements ───────────────────────────── */
.achievements-list { display:flex; flex-direction:column; gap:10px; max-width:500px; width:100%; }
.achievement-item {
  background:var(--card); border-radius:12px; padding:14px 18px;
  display:flex; align-items:center; gap:14px;
}
.achievement-item.unlocked { border-left:4px solid var(--accent2); }
.achievement-item.locked-ach { opacity:.5; }
.ach-icon { font-size:1.8rem; }
.ach-info { flex:1; }
.ach-info h4 { font-size:.95rem; }
.ach-info p { font-size:.78rem; color:var(--text2); margin-top:2px; }
.ach-progress {
  font-size:.8rem; color:var(--text2); text-align:right;
}

/* ─── Leaderboard ────────────────────────────── */
.leaderboard-list { max-width:400px; width:100%; }
.lb-item {
  display:flex; align-items:center; justify-content:space-between;
  background:var(--card); border-radius:10px; padding:12px 18px; margin-bottom:8px;
}
.lb-rank { font-size:1.2rem; font-weight:900; min-width:32px; }
.lb-name { flex:1; padding:0 10px; }
.lb-score { font-weight:700; color:var(--accent2); }
.lb-item:nth-child(1) .lb-rank { color:gold; }
.lb-item:nth-child(2) .lb-rank { color:silver; }
.lb-item:nth-child(3) .lb-rank { color:#cd7f32; }

/* ─── Notification ───────────────────────────── */
.notification {
  position:fixed; bottom:80px; left:50%; transform:translateX(-50%);
  background:rgba(15,52,96,.95); color:#fff; padding:12px 28px;
  border-radius:30px; font-size:.95rem; font-weight:600; z-index:200;
  border:1px solid rgba(255,255,255,.15); backdrop-filter:blur(8px);
  animation:slideUp .4s ease;
}
@keyframes slideUp { from{opacity:0;transform:translateX(-50%) translateY(20px)} to{opacity:1;transform:translateX(-50%) translateY(0)} }

/* ─── Menu deco ──────────────────────────────── */
.menu-bg-deco {
  position:absolute; width:400px; height:400px;
  background:radial-gradient(circle,rgba(233,69,96,.15) 0%,transparent 70%);
  border-radius:50%; pointer-events:none; animation:rotateDeco 8s linear infinite;
}
@keyframes rotateDeco { from{transform:rotate(0deg) scale(1)} 50%{transform:rotate(180deg) scale(1.2)} to{transform:rotate(360deg) scale(1)} }

/* ─── Responsive ─────────────────────────────── */
@media (max-width:480px) {
  .modal { padding:20px; }
  .menu-buttons { gap:8px; }
  .shop-item { min-width:130px; }
}
